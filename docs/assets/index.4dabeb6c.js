import{d as e,c as n,a as t,b as s,w as a,v as i,n as r,F as o,e as l,o as u,f as d,r as h,g as c,h as p}from"./vendor.e3967d8c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)})).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?n.credentials="include":"anonymous"===e.crossorigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}();const m=(e=!1)=>{const n=[0,3,4,6][Math.floor(3*Math.random())],t=[];t.push(n);for(let a=0;a<8;a++)t.push(Math.floor(10*Math.random()));const s=11-t.reduce(((e,n,t)=>n*(10-t)+e),0)%11;return s>=10?m(e):(t.push(s),e?[...t.slice(0,3)," ",...t.slice(3,6)," ",...t.slice(6)].join(""):t.join(""))};var f=e({name:"Validation",data:()=>({valid:!0,nhsNumber:""}),computed:{validAndNotEmpty:function(){return this.nhsNumber.trim().length>=10&&this.valid}},methods:{validateInput(){this.nhsNumber?this.valid=(e=>{var n;const t=`${e}`.replace(/\W/g,"");if(10!==t.length)return!1;if(1!==(null!=(n=t.match(/\d{10}/))?n:[]).length)return!1;const s=t.split("").map((e=>parseInt(e,10)));return 11-s.reduce(((e,n,t)=>t>8?e:n*(10-t)+e),0)%11===s[9]})(this.nhsNumber):this.valid=!0}}});const v=t("h2",null,"Validation",-1),k=t("div",{class:"nhsuk-warning-callout"},[t("h3",{class:"nhsuk-warning-callout__label"},[t("span",{role:"text"},[t("span",{class:"nhsuk-u-visually-hidden"},"Important: "),l(" Shallow validation ")])]),t("p",null,[l(" This library only validates if the value provided follows the NHS number format and "),t("strong",null,"does not"),l(" confirm that it is assigned to a patient. ")])],-1),b=t("label",{class:"nhsuk-label",for:"validation-input"}," What is your NHS number? ",-1),g=t("div",{class:"nhsuk-hint",id:"validation-input-hint"}," Your NHS number is a 10 digit number that you find on any letter the NHS has sent you. For example, 443 938 4528. ",-1),y={key:0,class:"nhsuk-error-message"},N=[t("span",{class:"nhsuk-u-visually-hidden"},"Error:",-1),l(" This is not a valid NHS number ")],w={key:1,class:"nhsuk-success-message"},_=[t("span",{class:"nhsuk-u-visually-hidden"},"Success:",-1),l(" This is a valid NHS number ")];f.render=function(e,l,d,h,c,p){return u(),n(o,null,[v,k,t("div",{class:r(["nhsuk-form-group",{"nhsuk-form-group--error":!e.valid,"nhsuk-form-group--success":e.validAndNotEmpty}])},[b,g,e.valid?s("",!0):(u(),n("span",y,N)),e.validAndNotEmpty?(u(),n("span",w,_)):s("",!0),a(t("input",{class:r(["nhsuk-input nhsuk-input--width-10",{"nhsuk-input--error":!e.valid,"nhsuk-input--success":e.validAndNotEmpty}]),id:"validation-input",name:"validation-input",type:"text","aria-describedby":"validation-input-hint",inputmode:"numeric","onUpdate:modelValue":l[0]||(l[0]=n=>e.nhsNumber=n),onBlur:l[1]||(l[1]=(...n)=>e.validateInput&&e.validateInput(...n))},null,34),[[i,e.nhsNumber]])],2)],64)};var S=e({name:"Generation",data:()=>({count:5,preformatted:!0,output:""}),computed:{validCount(){const e=parseInt(`${this.count}`);return isNaN(e)?1:e}},methods:{generateSample(e){e.stopPropagation(),e.preventDefault(),this.output=((e,n=!1)=>{if(e<=0)return[];const t=[];for(let s=0;s<e;s++)t.push(m(n));return t})(this.validCount,this.preformatted).join("\r\n")}}});const x={class:"nhsuk-fieldset"},H=t("legend",{class:"nhsuk-fieldset__legend nhsuk-fieldset__legend--l"},[t("h2",{class:"nhsuk-fieldset__heading"},"Generation")],-1),I=t("div",{class:"nhsuk-warning-callout"},[t("h3",{class:"nhsuk-warning-callout__label"},[t("span",{role:"text"},[t("span",{class:"nhsuk-u-visually-hidden"},"Important:"),l(" Potentially assigned ")])]),t("p",null,"Due to the randomness of the generator, there is a chance that the generated values could have been assigned to a patient.")],-1),V={class:"nhsuk-form-group"},T=t("div",{class:"nhsuk-hint"},"The number of sample NHS numbers you want to generate.",-1),A={class:"nhsuk-form-group"},E=t("div",{class:"nhsuk-hint"},"Tick this box if you want the generated NHS numbers to be pre-formatted.",-1),G={class:"nhsuk-checkboxes"},M={class:"nhsuk-checkboxes__item"},j=t("label",{class:"nhsuk-label nhsuk-checkboxes__label",for:"preformat-output"},"Pre-format output",-1),L={class:"nhsuk-form-group"},P=t("label",{class:"nhsuk-label",for:"generated-output"},"Sample NHS numbers",-1),U=t("div",{class:"nhsuk-hint",id:"generated-output-hint"},"These values should be following the NHS number format.",-1);S.render=function(e,s,r,o,l,h){return u(),n("fieldset",x,[H,I,t("div",V,[T,a(t("input",{class:"nhsuk-input nhsuk-input--width-4",id:"count-input",name:"count-input",type:"number",min:"1",max:"50","onUpdate:modelValue":s[0]||(s[0]=n=>e.count=n)},null,512),[[i,e.count]])]),t("div",A,[E,t("div",G,[t("div",M,[a(t("input",{class:"nhsuk-checkboxes__input",id:"preformat-output",name:"preformat",type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=n=>e.preformatted=n)},null,512),[[d,e.preformatted]]),j])])]),t("button",{class:"nhsuk-button",type:"submit",onClick:s[2]||(s[2]=(...n)=>e.generateSample&&e.generateSample(...n))},"Generate"),t("div",L,[P,U,a(t("textarea",{class:"nhsuk-textarea",id:"generated-output",name:"generated-output",rows:"5","aria-describedby":"generated-output-hint","onUpdate:modelValue":s[3]||(s[3]=n=>e.output=n)},null,512),[[i,e.output]])])])};var C=e({name:"App",components:{Validation:f,Generation:S}});const D=t("header",{class:"nhsuk-header",role:"banner"},[t("div",{class:"nhsuk-width-container nhsuk-header__container"},[t("div",{class:"nhsuk-header__transactional-service-name"},[t("a",{class:"nhsuk-header__transactional-service-name--link",href:"https://github.com/rowellx68/valid-nhsnum","aria-label":"Repo homepage"},"Github")])])],-1),F={class:"nhsuk-width-container"},W={class:"nhsuk-main-wrapper",role:"main"},$=t("h1",null,"NHS Number validator",-1),q=t("p",{class:"nhsuk-lede-text"},[l(" This page is demo of the "),t("a",{href:"https://github.com/rowellx68/valid-nhsnum"},"valid-nhsnum"),l(" library which allows you to validate if the NHS number provided is valid. ")],-1),z=t("hr",{class:"nhsd-a-horizontal-rule"},null,-1),B=t("footer",{role:"contentinfo"},[t("div",{class:"nhsuk-footer"},[t("div",{class:"nhsuk-width-container"})])],-1);C.render=function(e,s,a,i,r,l){const d=h("Validation"),p=h("Generation");return u(),n(o,null,[D,t("div",F,[t("main",W,[$,q,c(d),z,c(p)])]),B],64)};p(C).mount("#app");
